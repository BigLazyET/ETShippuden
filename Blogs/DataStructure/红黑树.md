## 红黑树

### 一、红黑树在Linux内核的三种应用

* 进程调度（task_struct - Sched.h）
* 内存管理
* sk_buff 网卡往协议栈运输数据块 - 用于组织数据块，因为有前后顺序不同时间点到达
* epoll

#### 1. 为什么要用红黑树，或者说用到了红黑树的哪些特征和优点？

* key-value：用于做存储
* 顺序的优点

#### 2. 理解进程调度为什么用到红黑树
nginx调度也是用的红黑树

key值是vruntime，各个时间节点的前后顺序组织为红黑树；当一个job过来触发某个时间点之前或者之后或者之间的任务的时候，就能利用红黑树快速遍历的特征，能迅速找到对应的节点，从而运行相应的节点

冲突了怎么办？
key值一样，time+非常小的时间再插入进去 -> 影响比较小